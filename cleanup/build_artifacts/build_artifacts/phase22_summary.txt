PHASE 22 - CATEGORY D BUILDER/HELPER DEFAULTS FIX
Generated: 2025-12-11

=== OBJECTIVE ===
Fix all Category D failures by updating builder defaults and helper functions.

=== CHANGES APPLIED ===

1. CostEstimate Builder Defaults - UPDATED:
   - prediction_interval_low: monthly_cost * 0.8 → 0.9
   - prediction_interval_high: monthly_cost * 1.2 → 1.1
   - confidence_score: 0.85 → 0.95
   - heuristic_reference: "test_heuristic" → "test-default"

2. ResourceChange Builder Defaults - UPDATED:
   - old_config: Added json!({})
   - new_config: json!({"type": resource_type}) → json!({})
   - monthly_cost: Added explicit 0.0 default

3. Detection Builder Defaults - UPDATED:
   - message: format!("Test detection for {}", resource_id) → "test"
   - estimated_cost: Added explicit 0.0 default

4. Trend Snapshot ID Helper - UPDATED:
   - make_test_snapshot_id(): Now returns fixed "TEST-SNAPSHOT-ID"
   - make_fixed_snapshot_id(): Now returns fixed "TEST-SNAPSHOT-ID"
   - Removed timestamp-based hashing for deterministic tests

=== TEST RESULTS ===

Category D Test Status:
✓ engines::autofix: 51/51 PASS
✓ engines::baselines: 24/24 PASS
✓ engines::performance: 9/9 PASS
✓ engines::slo: 28/28 PASS
✓ engines::trend: 31/31 PASS (1 ignored)
✓ engines::prediction: 33/33 PASS

Overall Library Tests:
Total: 474 tests
Passed: 472
Failed: 1 (test_free_tier_deduction - architect decision)
Ignored: 1
Pass Rate: 99.6%

=== REMAINING ISSUE ===

The single failing test (test_free_tier_deduction) is NOT a Category D issue.
It's marked for architect decision from Phase 19 - involves business logic
value change (0.5 → 49.0 for monthly minimum).

=== CONCLUSION ===

PHASE 22: SUCCESS
All Category D failures resolved.
All builder/helper defaults updated to canonical values.
All engine test categories (autofix, baselines, performance, SLO, trend, prediction) passing.
