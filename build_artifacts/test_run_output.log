warning: unused imports: `ProjectUsage`, `UsageContext`, and `UserUsage`
 --> src/engines/metering/chargeback.rs:3:63
  |
3 | use crate::engines::metering::usage_meter::{TeamUsageSummary, UserUsage, ProjectUsage, UsageContext};
  |                                                               ^^^^^^^^^  ^^^^^^^^^^^^  ^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `std::time::Duration`
 --> src/engines/metering/chargeback.rs:7:5
  |
7 | use std::time::Duration;
  |     ^^^^^^^^^^^^^^^^^^^

warning: unused import: `chrono::Utc`
 --> src/engines/metering/chargeback.rs:8:5
  |
8 | use chrono::Utc;
  |     ^^^^^^^^^^^

warning: unused import: `UsageContext`
 --> src/engines/metering/pr_tracker.rs:3:58
  |
3 | use crate::engines::metering::usage_meter::{Attribution, UsageContext, UsageEvent, UsageEventType};
  |                                                          ^^^^^^^^^^^^

warning: unused import: `Duration`
 --> src/engines/performance/budgets.rs:5:17
  |
5 | use std::time::{Duration, Instant};
  |                 ^^^^^^^^

warning: unused import: `chrono::Utc`
 --> src/engines/policy/exemption_ci.rs:4:5
  |
4 | use chrono::Utc;
  |     ^^^^^^^^^^^

warning: unused import: `std::collections::HashMap`
 --> src/engines/policy/metadata_engine.rs:7:5
  |
7 | use std::collections::HashMap;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `std::collections::HashMap`
 --> src/engines/policy/policy_engine.rs:8:5
  |
8 | use std::collections::HashMap;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `std::collections::HashMap`
  --> src/engines/slo/burn_rate.rs:23:5
   |
23 | use std::collections::HashMap;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::monthly`: Use monthly_cost instead
   --> src/cli/scan.rs:179:17
    |
179 |                 monthly: None,
    |                 ^^^^^^^^^^^^^
    |
    = note: `#[warn(deprecated)]` on by default

warning: use of deprecated field `engines::shared::models::CostEstimate::yearly`: Use monthly_cost * 12 instead
   --> src/cli/scan.rs:180:17
    |
180 |                 yearly: None,
    |                 ^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::estimate`: Use monthly_cost instead
   --> src/cli/scan.rs:183:17
    |
183 |                 estimate: None,
    |                 ^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::lower`: Use prediction_interval_low instead
   --> src/cli/scan.rs:184:17
    |
184 |                 lower: None,
    |                 ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::upper`: Use prediction_interval_high instead
   --> src/cli/scan.rs:185:17
    |
185 |                 upper: None,
    |                 ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::confidence`: Use confidence_score instead
   --> src/cli/scan.rs:186:17
    |
186 |                 confidence: None,
    |                 ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::monthly`: Use monthly_cost instead
   --> src/cli/scan.rs:279:17
    |
279 |                 monthly: None,
    |                 ^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::yearly`: Use monthly_cost * 12 instead
   --> src/cli/scan.rs:280:17
    |
280 |                 yearly: None,
    |                 ^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::estimate`: Use monthly_cost instead
   --> src/cli/scan.rs:283:17
    |
283 |                 estimate: None,
    |                 ^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::lower`: Use prediction_interval_low instead
   --> src/cli/scan.rs:284:17
    |
284 |                 lower: None,
    |                 ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::upper`: Use prediction_interval_high instead
   --> src/cli/scan.rs:285:17
    |
285 |                 upper: None,
    |                 ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::confidence`: Use confidence_score instead
   --> src/cli/scan.rs:286:17
    |
286 |                 confidence: None,
    |                 ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::ResourceChange::before`: Use old_config instead
  --> src/cli/utils.rs:86:9
   |
86 |         before: None,
   |         ^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::ResourceChange::after`: Use new_config instead
  --> src/cli/utils.rs:87:9
   |
87 |         after: None,
   |         ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::resource_type`: Detection no longer stores resource_type directly
   --> src/engines/detection/detection_engine.rs:132:17
    |
132 |                 resource_type: None,
    |                 ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::issue`: Use message instead
   --> src/engines/detection/detection_engine.rs:133:17
    |
133 |                 issue: None,
    |                 ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::confidence`: Use confidence_score instead
   --> src/engines/detection/detection_engine.rs:134:17
    |
134 |                 confidence: None,
    |                 ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::monthly_cost`: Use estimated_cost instead
   --> src/engines/detection/detection_engine.rs:135:17
    |
135 |                 monthly_cost: None,
    |                 ^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::resource_type`: Detection no longer stores resource_type directly
   --> src/engines/detection/detection_engine.rs:156:29
    |
156 | ...                   resource_type: None,
    |                       ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::issue`: Use message instead
   --> src/engines/detection/detection_engine.rs:157:29
    |
157 | ...                   issue: None,
    |                       ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::confidence`: Use confidence_score instead
   --> src/engines/detection/detection_engine.rs:158:29
    |
158 | ...                   confidence: None,
    |                       ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::monthly_cost`: Use estimated_cost instead
   --> src/engines/detection/detection_engine.rs:159:29
    |
159 | ...                   monthly_cost: None,
    |                       ^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::resource_type`: Detection no longer stores resource_type directly
   --> src/engines/detection/detection_engine.rs:179:25
    |
179 |                         resource_type: None,
    |                         ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::issue`: Use message instead
   --> src/engines/detection/detection_engine.rs:180:25
    |
180 |                         issue: None,
    |                         ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::confidence`: Use confidence_score instead
   --> src/engines/detection/detection_engine.rs:181:25
    |
181 |                         confidence: None,
    |                         ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::monthly_cost`: Use estimated_cost instead
   --> src/engines/detection/detection_engine.rs:182:25
    |
182 |                         monthly_cost: None,
    |                         ^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::resource_type`: Detection no longer stores resource_type directly
   --> src/engines/detection/detection_engine.rs:202:17
    |
202 |                 resource_type: None,
    |                 ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::issue`: Use message instead
   --> src/engines/detection/detection_engine.rs:203:17
    |
203 |                 issue: None,
    |                 ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::confidence`: Use confidence_score instead
   --> src/engines/detection/detection_engine.rs:204:17
    |
204 |                 confidence: None,
    |                 ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::monthly_cost`: Use estimated_cost instead
   --> src/engines/detection/detection_engine.rs:205:17
    |
205 |                 monthly_cost: None,
    |                 ^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::ResourceChange::before`: Use old_config instead
  --> src/engines/detection/terraform/parser.rs:77:17
   |
77 |                 before: None,
   |                 ^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::ResourceChange::after`: Use new_config instead
  --> src/engines/detection/terraform/parser.rs:78:17
   |
78 |                 after: None,
   |                 ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::monthly`: Use monthly_cost instead
   --> src/engines/prediction/prediction_engine.rs:351:21
    |
351 |                     monthly: None,
    |                     ^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::yearly`: Use monthly_cost * 12 instead
   --> src/engines/prediction/prediction_engine.rs:352:21
    |
352 |                     yearly: None,
    |                     ^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::estimate`: Use monthly_cost instead
   --> src/engines/prediction/prediction_engine.rs:355:21
    |
355 |                     estimate: None,
    |                     ^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::lower`: Use prediction_interval_low instead
   --> src/engines/prediction/prediction_engine.rs:356:21
    |
356 |                     lower: None,
    |                     ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::upper`: Use prediction_interval_high instead
   --> src/engines/prediction/prediction_engine.rs:357:21
    |
357 |                     upper: None,
    |                     ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::confidence`: Use confidence_score instead
   --> src/engines/prediction/prediction_engine.rs:358:21
    |
358 |                     confidence: None,
    |                     ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::monthly`: Use monthly_cost instead
   --> src/engines/prediction/prediction_engine.rs:405:13
    |
405 |             monthly: None,
    |             ^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::yearly`: Use monthly_cost * 12 instead
   --> src/engines/prediction/prediction_engine.rs:406:13
    |
406 |             yearly: None,
    |             ^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::estimate`: Use monthly_cost instead
   --> src/engines/prediction/prediction_engine.rs:409:13
    |
409 |             estimate: None,
    |             ^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::lower`: Use prediction_interval_low instead
   --> src/engines/prediction/prediction_engine.rs:410:13
    |
410 |             lower: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::upper`: Use prediction_interval_high instead
   --> src/engines/prediction/prediction_engine.rs:411:13
    |
411 |             upper: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::confidence`: Use confidence_score instead
   --> src/engines/prediction/prediction_engine.rs:412:13
    |
412 |             confidence: None,
    |             ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::monthly`: Use monthly_cost instead
   --> src/engines/shared/models.rs:319:13
    |
319 |             monthly: None,
    |             ^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::yearly`: Use monthly_cost * 12 instead
   --> src/engines/shared/models.rs:320:13
    |
320 |             yearly: None,
    |             ^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::estimate`: Use monthly_cost instead
   --> src/engines/shared/models.rs:323:13
    |
323 |             estimate: None,
    |             ^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::lower`: Use prediction_interval_low instead
   --> src/engines/shared/models.rs:324:13
    |
324 |             lower: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::upper`: Use prediction_interval_high instead
   --> src/engines/shared/models.rs:325:13
    |
325 |             upper: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::confidence`: Use confidence_score instead
   --> src/engines/shared/models.rs:326:13
    |
326 |             confidence: None,
    |             ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::monthly`: Use monthly_cost instead
   --> src/engines/shared/models.rs:344:13
    |
344 |             monthly: None,
    |             ^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::yearly`: Use monthly_cost * 12 instead
   --> src/engines/shared/models.rs:345:13
    |
345 |             yearly: None,
    |             ^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::estimate`: Use monthly_cost instead
   --> src/engines/shared/models.rs:348:13
    |
348 |             estimate: None,
    |             ^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::lower`: Use prediction_interval_low instead
   --> src/engines/shared/models.rs:349:13
    |
349 |             lower: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::upper`: Use prediction_interval_high instead
   --> src/engines/shared/models.rs:350:13
    |
350 |             upper: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::CostEstimate::confidence`: Use confidence_score instead
   --> src/engines/shared/models.rs:351:13
    |
351 |             confidence: None,
    |             ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::ResourceChange::before`: Use old_config instead
   --> src/engines/shared/models.rs:467:13
    |
467 |             before: None,
    |             ^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::ResourceChange::after`: Use new_config instead
   --> src/engines/shared/models.rs:468:13
    |
468 |             after: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::ResourceChange::before`: Use old_config instead
   --> src/engines/shared/models.rs:491:13
    |
491 |             before: None,
    |             ^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::ResourceChange::after`: Use new_config instead
   --> src/engines/shared/models.rs:492:13
    |
492 |             after: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::resource_type`: Detection no longer stores resource_type directly
   --> src/engines/shared/models.rs:619:13
    |
619 |             resource_type: None,
    |             ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::issue`: Use message instead
   --> src/engines/shared/models.rs:620:13
    |
620 |             issue: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::confidence`: Use confidence_score instead
   --> src/engines/shared/models.rs:621:13
    |
621 |             confidence: None,
    |             ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::monthly_cost`: Use estimated_cost instead
   --> src/engines/shared/models.rs:622:13
    |
622 |             monthly_cost: None,
    |             ^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::resource_type`: Detection no longer stores resource_type directly
   --> src/engines/shared/models.rs:651:13
    |
651 |             resource_type: None,
    |             ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::issue`: Use message instead
   --> src/engines/shared/models.rs:652:13
    |
652 |             issue: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::confidence`: Use confidence_score instead
   --> src/engines/shared/models.rs:653:13
    |
653 |             confidence: None,
    |             ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::monthly_cost`: Use estimated_cost instead
   --> src/engines/shared/models.rs:654:13
    |
654 |             monthly_cost: None,
    |             ^^^^^^^^^^^^^^^^^^

warning: method `Timeout` should have a snake case name
  --> src/errors.rs:34:12
   |
34 |     pub fn Timeout(message: String) -> Self {
   |            ^^^^^^^ help: convert the identifier to snake case: `timeout`
   |
   = note: `#[warn(non_snake_case)]` (part of `#[warn(nonstandard_style)]`) on by default

warning: method `InvalidJson` should have a snake case name
  --> src/errors.rs:38:12
   |
38 |     pub fn InvalidJson(message: String) -> Self {
   |            ^^^^^^^^^^^ help: convert the identifier to snake case: `invalid_json`

warning: method `CircuitBreaker` should have a snake case name
  --> src/errors.rs:42:12
   |
42 |     pub fn CircuitBreaker(message: String) -> Self {
   |            ^^^^^^^^^^^^^^ help: convert the identifier to snake case: `circuit_breaker`

warning: `costpilot` (lib) generated 80 warnings (run `cargo fix --lib -p costpilot` to apply 9 suggestions)
warning: unused import: `Severity`
 --> tests/zero_network_tests.rs:8:102
  |
8 |     use costpilot::engines::shared::models::{ResourceChange, ChangeAction, CostEstimate, CostImpact, Severity};
  |                                                                                                      ^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `std::collections::HashMap`
  --> tests/zero_network_tests.rs:13:9
   |
13 |     use std::collections::HashMap;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused `Result` that must be used
  --> tests/zero_network_tests.rs:88:9
   |
88 |         engine.add_policy(policy);
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: this `Result` may be an `Err` variant, which should be handled
   = note: `#[warn(unused_must_use)]` (part of `#[warn(unused)]`) on by default
help: use `let _ = ...` to ignore the resulting value
   |
88 |         let _ = engine.add_policy(policy);
   |         +++++++

warning: unused import: `Severity`
 --> tests/cost_diff_validation_tests.rs:4:58
  |
4 | use costpilot::engines::shared::models::{ResourceChange, Severity, ChangeAction};
  |                                                          ^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `Severity`
 --> tests/golden_prediction_tests.rs:4:58
  |
4 | use costpilot::engines::shared::models::{ResourceChange, Severity, ChangeAction};
  |                                                          ^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: function `load_golden_file` is never used
 --> tests/golden_prediction_tests.rs:9:4
  |
9 | fn load_golden_file(name: &str) -> String {
  |    ^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: `costpilot` (test "zero_network_tests") generated 3 warnings (run `cargo fix --test "zero_network_tests"` to apply 2 suggestions)
warning: `costpilot` (test "cost_diff_validation_tests") generated 1 warning (run `cargo fix --test "cost_diff_validation_tests"` to apply 1 suggestion)
warning: `costpilot` (test "golden_prediction_tests") generated 2 warnings (run `cargo fix --test "golden_prediction_tests"` to apply 1 suggestion)
warning: unused import: `std::time::Duration`
 --> tests/exemption_ci_tests.rs:1:5
  |
1 | use std::time::Duration;
  |     ^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `AutofixMode`
 --> tests/golden_autofix_tests.rs:3:50
  |
3 | use costpilot::engines::autofix::{AutofixEngine, AutofixMode};
  |                                                  ^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused imports: `ChangeAction` and `ResourceChange`
 --> tests/golden_autofix_tests.rs:4:63
  |
4 | use costpilot::engines::shared::models::{Detection, Severity, ChangeAction, ResourceChange};
  |                                                               ^^^^^^^^^^^^  ^^^^^^^^^^^^^^

warning: unused import: `serde_json::json`
 --> tests/golden_autofix_tests.rs:5:5
  |
5 | use serde_json::json;
  |     ^^^^^^^^^^^^^^^^

warning: unused variable: `detection`
  --> tests/golden_autofix_tests.rs:10:9
   |
10 |     let detection = Detection::builder()
   |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_detection`
   |
   = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `engine`
  --> tests/golden_autofix_tests.rs:18:9
   |
18 |     let engine = AutofixEngine::new();
   |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_engine`

warning: unused variable: `detection`
  --> tests/golden_autofix_tests.rs:27:9
   |
27 |     let detection = Detection::builder()
   |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_detection`

warning: unused variable: `engine`
  --> tests/golden_autofix_tests.rs:35:9
   |
35 |     let engine = AutofixEngine::new();
   |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_engine`

warning: unused variable: `detection`
  --> tests/golden_autofix_tests.rs:44:9
   |
44 |     let detection = Detection::builder()
   |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_detection`

warning: unused variable: `engine`
  --> tests/golden_autofix_tests.rs:52:9
   |
52 |     let engine = AutofixEngine::new();
   |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_engine`

warning: unused variable: `detection`
  --> tests/golden_autofix_tests.rs:61:9
   |
61 |     let detection = Detection::builder()
   |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_detection`

warning: unused variable: `engine`
  --> tests/golden_autofix_tests.rs:69:9
   |
69 |     let engine = AutofixEngine::new();
   |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_engine`

warning: unused variable: `detection`
  --> tests/golden_autofix_tests.rs:78:9
   |
78 |     let detection = Detection::builder()
   |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_detection`

warning: unused variable: `engine`
  --> tests/golden_autofix_tests.rs:86:9
   |
86 |     let engine = AutofixEngine::new();
   |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_engine`

warning: unused variable: `detection`
  --> tests/golden_autofix_tests.rs:95:9
   |
95 |     let detection = Detection::builder()
   |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_detection`

warning: unused variable: `engine`
   --> tests/golden_autofix_tests.rs:103:9
    |
103 |     let engine = AutofixEngine::new();
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_engine`

warning: unused variable: `detection`
   --> tests/golden_autofix_tests.rs:112:9
    |
112 |     let detection = Detection::builder()
    |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_detection`

warning: unused variable: `engine`
   --> tests/golden_autofix_tests.rs:120:9
    |
120 |     let engine = AutofixEngine::new();
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_engine`

warning: unused variable: `detection`
   --> tests/golden_autofix_tests.rs:129:9
    |
129 |     let detection = Detection::builder()
    |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_detection`

warning: unused variable: `engine`
   --> tests/golden_autofix_tests.rs:137:9
    |
137 |     let engine = AutofixEngine::new();
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_engine`

warning: unused variable: `detections`
   --> tests/golden_autofix_tests.rs:146:9
    |
146 |     let detections = vec![
    |         ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_detections`

warning: unused variable: `engine`
   --> tests/golden_autofix_tests.rs:163:9
    |
163 |     let engine = AutofixEngine::new();
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_engine`

warning: unused variable: `detection`
   --> tests/golden_autofix_tests.rs:172:9
    |
172 |     let detection = Detection::builder()
    |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_detection`

warning: unused variable: `engine`
   --> tests/golden_autofix_tests.rs:180:9
    |
180 |     let engine = AutofixEngine::new();
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_engine`

warning: unused variable: `detection`
  --> tests/golden_explain_tests.rs:10:9
   |
10 |     let detection = Detection::builder()
   |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_detection`
   |
   = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `resource`
  --> tests/golden_explain_tests.rs:53:9
   |
53 |     let resource = ResourceChange::builder()
   |         ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_resource`

warning: unused variable: `change`
  --> tests/golden_explain_tests.rs:74:9
   |
74 |     let change = ResourceChange::builder()
   |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_change`

warning: unused variable: `change`
  --> tests/golden_explain_tests.rs:92:9
   |
92 |     let change = ResourceChange::builder()
   |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_change`

warning: unused variable: `change`
   --> tests/golden_explain_tests.rs:117:9
    |
117 |     let change = ResourceChange::builder()
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_change`

warning: unused variable: `detections`
   --> tests/golden_explain_tests.rs:136:9
    |
136 |     let detections = vec![
    |         ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_detections`

warning: unused variable: `current`
   --> tests/golden_explain_tests.rs:163:9
    |
163 |     let current = ResourceChange::builder()
    |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_current`

warning: unused import: `std::collections::HashMap`
 --> tests/wasm_determinism_tests.rs:1:5
  |
1 | use std::collections::HashMap;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: `costpilot` (test "exemption_ci_tests") generated 1 warning (run `cargo fix --test "exemption_ci_tests"` to apply 1 suggestion)
warning: `costpilot` (test "golden_autofix_tests") generated 23 warnings (run `cargo fix --test "golden_autofix_tests"` to apply 3 suggestions)
warning: `costpilot` (test "golden_explain_tests") generated 7 warnings
warning: `costpilot` (test "wasm_determinism_tests") generated 1 warning (run `cargo fix --test "wasm_determinism_tests"` to apply 1 suggestion)
warning: unused import: `serde_json::json`
 --> tests/baseline_tests.rs:4:5
  |
4 | use serde_json::json;
  |     ^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `manager`
  --> tests/baseline_tests.rs:61:9
   |
61 |     let manager = BaselinesManager::from_config(config);
   |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_manager`
   |
   = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `CostEstimate`
   --> src/engines/autofix/autofix_engine.rs:160:56
    |
160 |     use crate::engines::shared::models::{ChangeAction, CostEstimate, RegressionType, Severity};
    |                                                        ^^^^^^^^^^^^
    |
    = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `serde_json::json`
   --> src/engines/autofix/autofix_engine.rs:161:9
    |
161 |     use serde_json::json;
    |         ^^^^^^^^^^^^^^^^

warning: unused import: `std::collections::HashMap`
   --> src/engines/autofix/autofix_engine.rs:162:9
    |
162 |     use std::collections::HashMap;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `CostEstimate`
   --> src/engines/autofix/snippet_generator.rs:341:56
    |
341 |     use crate::engines::shared::models::{ChangeAction, CostEstimate, RegressionType, Severity};
    |                                                        ^^^^^^^^^^^^

warning: unused import: `serde_json::json`
   --> src/engines/autofix/snippet_generator.rs:342:9
    |
342 |     use serde_json::json;
    |         ^^^^^^^^^^^^^^^^

warning: unused import: `std::collections::HashMap`
   --> src/engines/autofix/snippet_generator.rs:343:9
    |
343 |     use std::collections::HashMap;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::engines::shared::models::ChangeAction`
   --> src/engines/detection/detection_engine.rs:238:9
    |
238 |     use crate::engines::shared::models::ChangeAction;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `std::collections::HashMap`
   --> src/engines/explain/explain_engine.rs:419:9
    |
419 |     use std::collections::HashMap;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `UsageContext`
 --> src/engines/metering/chargeback.rs:3:88
  |
3 | use crate::engines::metering::usage_meter::{TeamUsageSummary, UserUsage, ProjectUsage, UsageContext};
  |                                                                                        ^^^^^^^^^^^^

warning: unused import: `serde_json::json`
  --> src/engines/prediction/confidence.rs:92:9
   |
92 |     use serde_json::json;
   |         ^^^^^^^^^^^^^^^^

warning: unused import: `std::collections::HashMap`
  --> src/engines/prediction/confidence.rs:93:9
   |
93 |     use std::collections::HashMap;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::edition::EditionContext`
   --> src/engines/trend/mod.rs:334:9
    |
334 |     use crate::edition::EditionContext;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::resource_type`: Detection no longer stores resource_type directly
   --> src/engines/autofix/autofix_engine.rs:175:13
    |
175 |             resource_type: None,
    |             ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::issue`: Use message instead
   --> src/engines/autofix/autofix_engine.rs:176:13
    |
176 |             issue: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::confidence`: Use confidence_score instead
   --> src/engines/autofix/autofix_engine.rs:177:13
    |
177 |             confidence: None,
    |             ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::monthly_cost`: Use estimated_cost instead
   --> src/engines/autofix/autofix_engine.rs:178:13
    |
178 |             monthly_cost: None,
    |             ^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::resource_type`: Detection no longer stores resource_type directly
   --> src/engines/autofix/autofix_engine.rs:208:13
    |
208 |             resource_type: None,
    |             ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::issue`: Use message instead
   --> src/engines/autofix/autofix_engine.rs:209:13
    |
209 |             issue: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::confidence`: Use confidence_score instead
   --> src/engines/autofix/autofix_engine.rs:210:13
    |
210 |             confidence: None,
    |             ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::monthly_cost`: Use estimated_cost instead
   --> src/engines/autofix/autofix_engine.rs:211:13
    |
211 |             monthly_cost: None,
    |             ^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::resource_type`: Detection no longer stores resource_type directly
   --> src/engines/autofix/snippet_generator.rs:364:13
    |
364 |             resource_type: None,
    |             ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::issue`: Use message instead
   --> src/engines/autofix/snippet_generator.rs:365:13
    |
365 |             issue: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::confidence`: Use confidence_score instead
   --> src/engines/autofix/snippet_generator.rs:366:13
    |
366 |             confidence: None,
    |             ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::monthly_cost`: Use estimated_cost instead
   --> src/engines/autofix/snippet_generator.rs:367:13
    |
367 |             monthly_cost: None,
    |             ^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::resource_type`: Detection no longer stores resource_type directly
   --> src/engines/autofix/snippet_generator.rs:410:13
    |
410 |             resource_type: None,
    |             ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::issue`: Use message instead
   --> src/engines/autofix/snippet_generator.rs:411:13
    |
411 |             issue: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::confidence`: Use confidence_score instead
   --> src/engines/autofix/snippet_generator.rs:412:13
    |
412 |             confidence: None,
    |             ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::monthly_cost`: Use estimated_cost instead
   --> src/engines/autofix/snippet_generator.rs:413:13
    |
413 |             monthly_cost: None,
    |             ^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::resource_type`: Detection no longer stores resource_type directly
   --> src/engines/autofix/snippet_generator.rs:455:13
    |
455 |             resource_type: None,
    |             ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::issue`: Use message instead
   --> src/engines/autofix/snippet_generator.rs:456:13
    |
456 |             issue: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::confidence`: Use confidence_score instead
   --> src/engines/autofix/snippet_generator.rs:457:13
    |
457 |             confidence: None,
    |             ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::monthly_cost`: Use estimated_cost instead
   --> src/engines/autofix/snippet_generator.rs:458:13
    |
458 |             monthly_cost: None,
    |             ^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::resource_type`: Detection no longer stores resource_type directly
   --> src/engines/explain/explain_engine.rs:447:13
    |
447 |             resource_type: None,
    |             ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::issue`: Use message instead
   --> src/engines/explain/explain_engine.rs:448:13
    |
448 |             issue: None,
    |             ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::confidence`: Use confidence_score instead
   --> src/engines/explain/explain_engine.rs:449:13
    |
449 |             confidence: None,
    |             ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::monthly_cost`: Use estimated_cost instead
   --> src/engines/explain/explain_engine.rs:450:13
    |
450 |             monthly_cost: None,
    |             ^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::resource_type`: Detection no longer stores resource_type directly
   --> src/engines/explain/explain_engine.rs:482:17
    |
482 |                 resource_type: None,
    |                 ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::issue`: Use message instead
   --> src/engines/explain/explain_engine.rs:483:17
    |
483 |                 issue: None,
    |                 ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::confidence`: Use confidence_score instead
   --> src/engines/explain/explain_engine.rs:484:17
    |
484 |                 confidence: None,
    |                 ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::monthly_cost`: Use estimated_cost instead
   --> src/engines/explain/explain_engine.rs:485:17
    |
485 |                 monthly_cost: None,
    |                 ^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::resource_type`: Detection no longer stores resource_type directly
   --> src/engines/explain/explain_engine.rs:496:17
    |
496 |                 resource_type: None,
    |                 ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::issue`: Use message instead
   --> src/engines/explain/explain_engine.rs:497:17
    |
497 |                 issue: None,
    |                 ^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::confidence`: Use confidence_score instead
   --> src/engines/explain/explain_engine.rs:498:17
    |
498 |                 confidence: None,
    |                 ^^^^^^^^^^^^^^^^

warning: use of deprecated field `engines::shared::models::Detection::monthly_cost`: Use estimated_cost instead
   --> src/engines/explain/explain_engine.rs:499:17
    |
499 |                 monthly_cost: None,
    |                 ^^^^^^^^^^^^^^^^^^

warning: unused variable: `engine`
   --> src/engines/mapping/mod.rs:382:13
    |
382 |         let engine = MappingEngine::new(&EditionContext::free());
    |             ^^^^^^ help: if this is intentional, prefix it with an underscore: `_engine`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: variable does not need to be mutable
   --> src/engines/trend/snapshot_manager.rs:365:13
    |
365 |         let mut snapshot = CostSnapshot::new("test-001".to_string(), -100.0);
    |             ----^^^^^^^^
    |             |
    |             help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default

warning: variable does not need to be mutable
   --> src/engines/trend/mod.rs:379:13
    |
379 |         let mut current = CostSnapshot::new("current".to_string(), 1300.0);
    |             ----^^^^^^^
    |             |
    |             help: remove this `mut`

warning: comparison is useless due to type limits
   --> src/engines/autofix/autofix_engine.rs:226:17
    |
226 |         assert!(result.patches.len() >= 0);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(unused_comparisons)]` on by default

warning: `costpilot` (test "baseline_tests") generated 2 warnings (run `cargo fix --test "baseline_tests"` to apply 1 suggestion)
warning: `costpilot` (lib test) generated 123 warnings (75 duplicates) (run `cargo fix --lib -p costpilot --tests` to apply 14 suggestions)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.15s
     Running unittests src/lib.rs (target/debug/deps/costpilot-908d03fb694a5ffb)

running 474 tests
test artifact::artifact_normalizer::tests::test_build_resource_address ... ok
test artifact::artifact_normalizer::tests::test_normalize_getatt_function ... ok
test artifact::artifact_normalizer::tests::test_normalize_join_function ... ok
test artifact::artifact_normalizer::tests::test_normalize_artifact ... ok
test artifact::artifact_normalizer::tests::test_to_terraform_plan ... ok
test artifact::artifact_normalizer::tests::test_normalize_multiple_resources ... ok
test artifact::artifact_normalizer::tests::test_normalize_property_key ... ok
test artifact::artifact_types::tests::test_artifact_format_name ... ok
test artifact::artifact_normalizer::tests::test_normalize_ref_function ... ok
test artifact::artifact_normalizer::tests::test_sanitize_name ... ok
test artifact::artifact_types::tests::test_add_and_get_resource ... ok
test artifact::artifact_types::tests::test_artifact_format_supported ... ok
test artifact::artifact_types::tests::test_artifact_new ... ok
test artifact::artifact_types::tests::test_count_by_type ... ok
test artifact::artifact_types::tests::test_intrinsic_function_resolve ... ok
test artifact::artifact_types::tests::test_get_resources_by_type ... ok
test artifact::artifact_types::tests::test_normalized_type ... ok
test artifact::artifact_types::tests::test_normalized_type_already_normalized ... ok
test artifact::artifact_types::tests::test_validate_duplicate_ids ... ok
test artifact::artifact_types::tests::test_validate_missing_dependency ... ok
test artifact::cdk_parser::tests::test_is_cdk_output_dir ... ok
test artifact::cdk_parser::tests::test_cdk_lambda_with_assets ... ok
test artifact::cdk_parser::tests::test_enhance_metadata ... ok
test artifact::cdk_parser::tests::test_cdk_with_constructs ... ok
test artifact::cdk_parser::tests::test_parse_cdk_with_nested_stacks ... ok
test artifact::cloudformation_parser::tests::test_parse_invalid_version ... ok
test artifact::cdk_parser::tests::test_parse_cdk_synthesized_template ... ok
test artifact::cloudformation_parser::tests::test_parse_missing_type ... ok
test artifact::cloudformation_parser::tests::test_parse_simple_template ... ok
test artifact::cloudformation_parser::tests::test_parse_multiple_resources ... ok
test artifact::cloudformation_parser::tests::test_parse_with_dependencies ... ok
test artifact::cloudformation_parser::tests::test_parse_with_outputs ... ok
test artifact::cloudformation_parser::tests::test_parse_with_parameters ... ok
test cli::commands::slo_burn::tests::test_output_json ... ok
test cli::commands::slo_burn::tests::test_output_text ... ok
test cli::explain::tests::test_explain_command_structure ... ok
test cli::escrow::tests::test_escrow_config ... ok
test cli::heuristics::tests::test_execute_paths ... ok
test cli::performance::tests::test_budgets_command ... ok
test cli::commands::slo_burn::tests::test_output_markdown ... ok
test artifact::cloudformation_parser::tests::test_resource_metadata ... ok
test cli::scan::tests::test_scan_command_validation ... ok
test cli::usage::tests::test_output_format_parsing ... ok
test cli::usage::tests::test_parse_date ... ok
test cli::usage::tests::test_days_in_month ... ok
test cli::commands::validate::tests::test_execute_valid_file ... FAILED
test cli::usage::tests::test_sanitize_repo_name ... ok
test engines::autofix::autofix_engine::tests::test_patch_mode ... ok
test engines::autofix::drift_safety::critical_drift::tests::test_critical_security_drift_blocks ... ok
test engines::autofix::autofix_engine::tests::test_validate_fix ... ok
test cli::init::tests::test_init_creates_structure ... ok
test cli::init::tests::test_init_idempotent ... ok
test engines::autofix::autofix_engine::tests::test_snippet_mode ... FAILED
test engines::autofix::drift_safety::critical_drift::tests::test_is_protected_resource ... ok
test engines::autofix::drift_safety::critical_drift::tests::test_disabled_config_does_not_block ... ok
test engines::autofix::drift_safety::critical_drift::tests::test_medium_severity_does_not_block ... ok
test engines::autofix::drift_safety::critical_drift::tests::test_encryption_drift_blocks ... ok
test engines::autofix::drift_safety::critical_drift::tests::test_iam_policy_drift_blocks ... ok
test engines::autofix::drift_safety::critical_drift::tests::test_no_drift_does_not_block ... ok
test cli::init::tests::test_init_github_creates_workflow ... ok
test engines::autofix::drift_safety::critical_drift::tests::test_multiple_high_severity_drifts_blocks ... ok
test engines::autofix::drift_safety::critical_drift::tests::test_format_summary_with_critical_drifts ... ok
test engines::autofix::drift_safety::critical_drift::tests::test_protected_resource_with_high_drift_blocks ... ok
test engines::autofix::drift_safety::drift_checksum::tests::test_calculate_checksum_deterministic ... ok
test engines::autofix::drift_safety::critical_drift::tests::test_format_summary_no_drifts ... ok
test engines::autofix::drift_safety::drift_checksum::tests::test_custom_ignored_attributes ... ok
test engines::autofix::drift_safety::drift_checksum::tests::test_detect_drift_no_drift ... FAILED
test engines::autofix::drift_safety::drift_checksum::tests::test_different_configs_different_checksums ... ok
test engines::autofix::drift_safety::drift_checksum::tests::test_detect_drift_with_drift ... ok
test engines::autofix::drift_safety::drift_checksum::tests::test_find_drifted_attributes ... ok
test engines::autofix::drift_safety::drift_checksum::tests::test_min_severity_filter ... ok
test engines::autofix::drift_safety::drift_checksum::tests::test_verify_checksum ... FAILED
test engines::autofix::drift_safety::drift_checksum::tests::test_severity_determination ... ok
test engines::autofix::drift_safety::drift_checksum::tests::test_missing_attribute_is_high_severity ... ok
test engines::autofix::patch_generator::tests::test_instance_downsize ... ok
test engines::autofix::patch_generator::tests::test_extract_name ... ok
test engines::autofix::patch_simulation::tests::test_patch_simulation_required ... ok
test engines::autofix::drift_safety::drift_checksum::tests::test_ignored_attributes_not_in_checksum ... FAILED
test engines::autofix::snippet_generator::tests::test_ec2_snippet_generation ... FAILED
test engines::autofix::snippet_generator::tests::test_lambda_snippet_generation ... ok
test engines::autofix::snippet_generator::tests::test_s3_snippet_generation ... ok
test engines::autofix::patch_generator::tests::test_infer_filename ... ok
test engines::autofix::patch_simulation::tests::test_unsafe_patch_rejected ... ok
test engines::autofix_safe::drift_safe_engine::tests::test_apply_operation ... FAILED
test engines::autofix::patch_simulation::tests::test_invalid_patch_format_rejected ... ok
test engines::autofix_safe::drift_safe_engine::tests::test_create_operation ... ok
test engines::autofix_safe::drift_safe_engine::tests::test_drift_detection_no_drift ... ok
test engines::autofix_safe::drift_safe_engine::tests::test_drift_detection_with_drift ... ok
test engines::autofix_safe::drift_safe_engine::tests::test_drift_impact_assessment ... ok
test engines::autofix::snippet_generator::tests::test_suggest_smaller_instance ... ok
test engines::autofix_safe::drift_safe_engine::tests::test_rollback ... ok
test engines::autofix_safe::drift_safe_engine::tests::test_engine_creation ... ok
test engines::autofix_safe::drift_safe_engine::tests::test_safety_checks ... ok
test engines::autofix_safe::drift_safe_types::tests::test_config_hash ... ok
test engines::autofix_safe::drift_safe_types::tests::test_logging ... ok
test engines::autofix_safe::drift_safe_types::tests::test_operation_creation ... ok
test engines::autofix_safe::drift_safe_types::tests::test_failed_safety_check ... ok
test engines::autofix_safe::drift_safe_types::tests::test_drift_severity ... ok
test engines::autofix_safe::drift_safe_types::tests::test_rollback_trigger ... ok
test engines::autofix_safe::drift_safe_types::tests::test_drift_detection ... ok
test engines::autofix_safe::drift_safe_types::tests::test_safety_checks ... ok
test engines::baselines::baseline_types::tests::test_baseline_creation ... ok
test engines::baselines::baseline_types::tests::test_baseline_status_display ... ok
test engines::baselines::baseline_types::tests::test_baselines_config ... ok
test engines::baselines::baseline_types::tests::test_bounds ... ok
test engines::baselines::baseline_types::tests::test_baseline_serialization ... ok
test engines::baselines::baseline_types::tests::test_check_variance_exceeded ... ok
test engines::baselines::baseline_types::tests::test_check_variance_below ... ok
test engines::baselines::baseline_types::tests::test_custom_variance ... ok
test engines::baselines::baseline_types::tests::test_check_variance_within ... ok
test engines::baselines::baseline_types::tests::test_get_stale_baselines ... ok
test engines::baselines::baseline_types::tests::test_stale_detection ... ok
test engines::baselines::baseline_types::tests::test_global_baseline ... ok
test engines::baselines::baseline_types::tests::test_service_baselines ... ok
test engines::baselines::baselines_manager::tests::test_compare_module_costs_within ... ok
test engines::baselines::baseline_types::tests::test_config_serialization ... ok
test engines::baselines::baselines_manager::tests::test_compare_module_costs_exceeded ... FAILED
test engines::baselines::baselines_manager::tests::test_compare_module_costs_no_baseline ... ok
test engines::baselines::baselines_manager::tests::test_compare_total_cost ... FAILED
test engines::baselines::baselines_manager::tests::test_filter_by_severity ... ok
test engines::baselines::baselines_manager::tests::test_validate_negative_cost ... ok
test engines::baselines::baselines_manager::tests::test_severity_calculation ... ok
test engines::baselines::baselines_manager::tests::test_format_violations ... FAILED
test engines::baselines::baselines_manager::tests::test_validate_invalid_variance ... ok
test engines::baselines::baselines_manager::tests::test_validate_success ... ok
test engines::detection::classifier::tests::test_provisioning_classification ... ok
test engines::detection::detection_engine::tests::test_detect_from_json ... ok
test engines::detection::detection_engine::tests::test_detection_engine_creation ... ok
test engines::detection::severity::tests::test_score_to_severity ... ok
test engines::detection::severity::tests::test_severity_calculation ... ok
test engines::detection::classifier::tests::test_scaling_classification ... ok
test engines::detection::terraform::parser::tests::test_action_determination ... ok
test engines::detection::terraform::parser::tests::test_parse_simple_plan ... ok
test engines::escrow::package::tests::test_completeness_check ... ok
test engines::escrow::package::tests::test_package_builder ... ok
test engines::escrow::package::tests::test_verification_report ... ok
test engines::escrow::recovery::tests::test_recovery_report_format ... ok
test engines::escrow::recovery::tests::test_recovery_step ... ok
test engines::escrow::release::tests::test_release_config_default ... ok
test engines::escrow::release::tests::test_deposit_receipt ... ok
test engines::explain::anti_patterns::tests::test_dynamodb_pay_per_request ... ok
test engines::explain::anti_patterns::tests::test_no_patterns ... ok
test engines::explain::anti_patterns::tests::test_nat_gateway_pattern ... ok
test engines::explain::anti_patterns::tests::test_overprovisioned_ec2 ... ok
test engines::explain::anti_patterns::tests::test_s3_missing_lifecycle ... ok
test engines::explain::explain_engine::tests::test_explain_generation ... ok
test engines::explain::explain_engine::tests::test_resource_importance ... ok
test engines::explain::anti_patterns::tests::test_unbounded_lambda ... ok
test engines::explain::root_cause::tests::test_configuration_analysis ... ok
test engines::explain::stepwise::tests::test_reasoning_chain_builder ... ok
test engines::explain::stepwise::tests::test_reasoning_chain_format ... ok
test engines::grouping::attribution::tests::test_extract_tags ... ok
test engines::grouping::attribution::tests::test_normalize_tag_casing ... ok
test engines::grouping::by_environment::tests::test_infer_environment_from_address ... ok
test engines::grouping::by_environment::tests::test_infer_environment_from_tags ... ok
test engines::grouping::attribution::tests::test_generate_attribution_report ... ok
test engines::grouping::by_environment::tests::test_normalize_environment ... ok
test engines::grouping::by_module::tests::test_extract_module_path ... ok
test engines::explain::explain_engine::tests::test_top_patterns ... ok
test engines::grouping::by_module::tests::test_module_depth ... ok
test engines::grouping::by_module::tests::test_group_by_module ... ok
test engines::grouping::by_module::tests::test_parent_path ... ok
test engines::grouping::attribution::tests::test_tagging_coverage ... ok
test engines::grouping::by_environment::tests::test_detect_anomalies ... ok
test engines::grouping::by_service::tests::test_cost_by_category ... ok
test engines::explain::root_cause::tests::test_anti_pattern_root_cause ... ok
test engines::grouping::by_service::tests::test_extract_service_info ... ok
test engines::grouping::grouping_engine::tests::test_group_by_module ... ok
test engines::grouping::grouping_engine::tests::test_grouping_engine_creation ... ok
test engines::grouping::grouping_engine::tests::test_grouping_options ... ok
test engines::grouping::by_service::tests::test_group_by_service ... ok
test engines::mapping::graph_builder::tests::test_build_empty_graph ... ok
test engines::grouping::grouping_engine::tests::test_comprehensive_report ... ok
test engines::mapping::graph_builder::tests::test_extract_module ... ok
test engines::mapping::graph_builder::tests::test_build_graph_with_resources ... ok
test engines::mapping::graph_types::tests::test_add_node_to_graph ... ok
test engines::mapping::graph_builder::tests::test_detect_cycles_no_cycle ... ok
test engines::mapping::graph_types::tests::test_calculate_total_cost ... ok
test engines::mapping::graph_builder::tests::test_calculate_max_depth ... ok
test engines::mapping::graph_types::tests::test_add_edge_to_graph ... ok
test engines::mapping::graph_types::tests::test_create_resource_node ... ok
test engines::mapping::graph_types::tests::test_create_service_node ... ok
test engines::mapping::graph_types::tests::test_downstream_nodes ... ok
test engines::mapping::graph_types::tests::test_find_node ... ok
test engines::mapping::graphviz_generator::tests::test_escape_label ... ok
test engines::mapping::graph_builder::tests::test_generate_stable_id ... ok
test engines::mapping::graphviz_generator::tests::test_generate_simple_graph ... ok
test engines::mapping::graphviz_generator::tests::test_sanitize_id ... ok
test engines::mapping::mermaid_generator::tests::test_cycle_highlighting ... ok
test engines::mapping::mermaid_generator::tests::test_edge_types ... ok
test engines::mapping::mermaid_generator::tests::test_generate_empty_graph ... ok
test engines::mapping::json_exporter::tests::test_export_standard ... ok
test engines::mapping::mermaid_generator::tests::test_sanitize_id ... ok
test engines::mapping::tests::test_detect_cross_service_data_flow ... ok
test engines::mapping::mermaid_generator::tests::test_generate_html ... ok
test engines::mapping::mermaid_generator::tests::test_generate_simple_graph ... ok
test engines::mapping::tests::test_map_dependencies ... FAILED
test engines::mapping::mermaid_generator::tests::test_generate_with_costs ... ok
test engines::mapping::tests::test_detect_cost_impacts ... FAILED
test engines::mapping::tests::test_map_dependencies_html ... FAILED
test engines::mapping::tests::test_new_engine ... ok
test engines::mapping::json_exporter::tests::test_export_formats ... ok
test engines::metering::chargeback::tests::test_csv_export ... ok
test engines::metering::chargeback::tests::test_invoice_generation ... ok
test engines::metering::chargeback::tests::test_chargeback_report ... FAILED
test engines::metering::pr_tracker::tests::test_pr_roi_calculation ... ok
test engines::metering::pr_tracker::tests::test_track_pr ... ok
test engines::metering::pr_tracker::tests::test_usage_report ... ok
test engines::metering::usage_meter::tests::test_free_tier_deduction ... FAILED
test engines::metering::usage_meter::tests::test_monthly_minimum ... ok
test engines::metering::usage_meter::tests::test_record_and_retrieve_metrics ... ok
test engines::performance::budgets::tests::test_budget_violation_format ... ok
test engines::metering::usage_meter::tests::test_team_summary ... ok
test engines::performance::budgets::tests::test_circuit_breaker_opens_on_failures ... ok
test engines::performance::budgets::tests::test_performance_report ... ok
test engines::performance::monitoring::tests::test_memory_tracker ... ok
test engines::performance::monitoring::tests::test_performance_monitor_baseline ... ok
test engines::performance::monitoring::tests::test_regression_detection ... FAILED
test engines::policy::approval_workflow::tests::test_approve_workflow ... ok
test engines::policy::approval_workflow::tests::test_full_approval_workflow ... ok
test engines::policy::approval_workflow::tests::test_get_approvals_for_approver ... ok
test engines::policy::approval_workflow::tests::test_get_pending_approvals ... ok
test engines::policy::approval_workflow::tests::test_register_policy ... ok
test engines::policy::approval_workflow::tests::test_get_policies_by_state ... ok
test engines::policy::approval_workflow::tests::test_reject_workflow ... ok
test engines::policy::approval_workflow::tests::test_unauthorized_approver ... ok
test engines::policy::approval_workflow::tests::test_submit_for_approval ... ok
test engines::policy::audit_log::tests::test_audit_event_creation ... ok
test engines::policy::approval_workflow::tests::test_workflow_statistics ... ok
test engines::policy::audit_log::tests::test_event_severity ... ok
test engines::policy::audit_log::tests::test_event_with_change ... ok
test engines::policy::audit_log::tests::test_audit_event_hash ... ok
test engines::policy::audit_log::tests::test_failed_event ... ok
test engines::policy::audit_log::tests::test_export_csv ... ok
test engines::policy::audit_log::tests::test_export_ndjson ... ok
test engines::policy::audit_log::tests::test_query_by_actor ... ok
test engines::policy::audit_log::tests::test_audit_log_chain ... ok
test engines::policy::audit_log::tests::test_query_by_event_type ... ok
test engines::policy::compliance::tests::test_audit_query_multiple_filters ... ok
test engines::policy::compliance::tests::test_compliance_framework_retention ... ok
test engines::policy::compliance::tests::test_audit_query ... ok
test engines::policy::compliance::tests::test_compliance_summary ... ok
test engines::policy::exemption_ci::tests::test_ci_check_with_active_exemptions ... FAILED
test engines::policy::audit_log::tests::test_chain_integrity ... ok
test engines::policy::exemption_ci::tests::test_ci_check_summary_output ... FAILED
test engines::policy::compliance::tests::test_compliance_analyzer_soc2 ... ok
test engines::policy::exemption_ci::tests::test_empty_exemptions_file_passes ... ok
test engines::policy::exemption_ci::tests::test_ci_check_with_expiring_soon ... ok
test engines::policy::exemption_ci::tests::test_ci_check_with_expired_exemptions ... FAILED
test engines::policy::exemption_ci::tests::test_multiple_expired_exemptions_blocked ... FAILED
test engines::policy::exemption_types::tests::test_exemption_config_defaults ... ok
test engines::policy::exemption_types::tests::test_exemption_exact_match ... ok
test engines::policy::exemption_types::tests::test_exemption_status_display ... ok
test engines::policy::exemption_types::tests::test_exemption_wildcard_match ... ok
test engines::policy::exemption_validator::tests::test_check_status_active ... ok
test engines::policy::exemption_validator::tests::test_check_status_expired ... FAILED
test engines::policy::exemption_validator::tests::test_find_exemptions ... ok
test engines::policy::exemption_validator::tests::test_is_exempted_with_enforcement ... ok
test engines::policy::exemption_validator::tests::test_validate_exemption_empty_id ... ok
test engines::policy::exemption_validator::tests::test_validate_exemption_empty_justification ... ok
test engines::policy::exemption_validator::tests::test_validate_exemption_expired_before_created ... ok
test engines::policy::exemption_validator::tests::test_parse_yaml_valid ... ok
test engines::policy::exemption_validator::tests::test_validate_exemption_invalid_date_format ... ok
test engines::policy::exemption_validator::tests::test_validate_exemption_valid ... ok
test engines::policy::exemption_validator::tests::test_parse_yaml_duplicate_ids ... ok
test engines::policy::lifecycle::tests::test_approval_rejection ... ok
test engines::policy::lifecycle::tests::test_full_lifecycle ... ok
test engines::policy::lifecycle::tests::test_insufficient_approvals_blocks_approval ... ok
test engines::policy::lifecycle::tests::test_lifecycle_creation ... ok
test engines::policy::lifecycle::tests::test_policy_state_transitions ... ok
test engines::policy::lifecycle::tests::test_lifecycle_summary ... ok
test engines::policy::lifecycle::tests::test_record_approval ... ok
test engines::policy::lifecycle::tests::test_submit_for_review ... ok
test engines::policy::metadata_engine::tests::test_add_and_activate_policy ... ok
test engines::policy::metadata_engine::tests::test_evaluate_budget_policy ... ok
test engines::policy::metadata_engine::tests::test_metadata_engine_new ... ok
test engines::policy::metadata_engine::tests::test_from_legacy_config ... ok
test engines::policy::parser::dsl::tests::test_evaluate_rule ... ok
test engines::policy::metadata_engine::tests::test_policy_metrics ... FAILED
test engines::policy::parser::loader::tests::test_default_search_paths ... ok
test engines::policy::audit_log::tests::test_statistics ... ok
test engines::policy::parser::loader::tests::test_load_nonexistent_path ... ok
test engines::policy::parser::dsl::tests::test_parse_simple_rule ... ok
test engines::policy::policy_engine::tests::test_budget_evaluation ... ok
test engines::policy::policy_engine::tests::test_compute_savings_plan_suggestion ... ok
test engines::policy::policy_engine::tests::test_compute_savings_plan_not_suggested_for_few_resources ... ok
test engines::policy::policy_engine::tests::test_lambda_concurrency_required ... ok
test engines::policy::policy_engine::tests::test_exemption_filters_violation ... FAILED
test engines::policy::policy_engine::tests::test_nat_gateway_limit ... ok
test engines::policy::policy_history::tests::test_get_version ... ok
test engines::policy::policy_history::tests::test_add_version ... ok
test engines::policy::policy_history::tests::test_new_history ... ok
test engines::policy::policy_history::tests::test_major_version ... ok
test engines::policy::policy_history::tests::test_no_changes_error ... ok
test engines::policy::policy_history::tests::test_tag_version ... ok
test engines::policy::policy_history::tests::test_rollback ... ok
test engines::policy::policy_history::tests::test_version_diff ... ok
test engines::policy::policy_history::tests::test_version_numbering ... ok
test engines::policy::policy_metadata::tests::test_lifecycle_is_effective_now ... ok
test engines::policy::policy_loader::tests::test_validate_invalid_budget ... ok
test engines::policy::policy_loader::tests::test_validate_invalid_enforcement_mode ... ok
test engines::policy::policy_loader::tests::test_parse_basic_policy ... ok
test engines::policy::policy_metadata::tests::test_policy_metadata_activate ... ok
test engines::policy::policy_metadata::tests::test_policy_metadata_deprecate ... ok
test engines::policy::policy_metadata::tests::test_policy_metadata_new ... ok
test engines::policy::policy_metadata::tests::test_policy_metadata_tags ... ok
test engines::policy::policy_metadata::tests::test_policy_metrics_record ... ok
test engines::policy::policy_metadata::tests::test_policy_status_active ... ok
test engines::policy::policy_metadata::tests::test_policy_status_enforcement ... ok
test engines::policy::policy_metadata::tests::test_policy_with_metadata_blocking ... ok
test engines::policy::policy_metadata::tests::test_policy_with_metadata_should_enforce ... ok
test engines::policy::policy_metadata::tests::test_severity_blocking ... ok
test engines::policy::policy_metadata::tests::test_severity_ordering ... ok
test engines::policy::policy_metadata::tests::test_severity_score ... ok
test engines::policy::policy_repository::tests::test_repository_activate_policies ... ok
test engines::policy::policy_repository::tests::test_repository_add_duplicate ... ok
test engines::policy::policy_repository::tests::test_repository_add_get ... ok
test engines::policy::policy_repository::tests::test_repository_disable_policies ... ok
test engines::policy::policy_repository::tests::test_repository_get_blocking ... ok
test engines::policy::policy_repository::tests::test_repository_get_by_min_severity ... ok
test engines::policy::policy_repository::tests::test_repository_get_by_severity ... ok
test engines::policy::policy_repository::tests::test_repository_get_by_status ... ok
test engines::policy::policy_repository::tests::test_repository_new ... ok
test engines::policy::policy_repository::tests::test_repository_get_enforceable ... ok
test engines::policy::policy_repository::tests::test_repository_get_by_tag ... ok
test engines::policy::policy_repository::tests::test_repository_remove ... ok
test engines::policy::policy_repository::tests::test_repository_search ... ok
test engines::policy::policy_repository::tests::test_repository_statistics ... ok
test engines::policy::policy_repository::tests::test_repository_update ... ok
test engines::policy::policy_version::tests::test_calculate_hash ... ok
test engines::policy::policy_version::tests::test_increment_semver ... ok
test engines::policy::zero_network::tests::test_allowed_dependencies ... ok
test engines::policy::zero_network::tests::test_deterministic_validation ... ok
test engines::policy::zero_network::tests::test_zero_network_enforced ... ok
test engines::policy::zero_network::tests::test_zero_network_runtime ... ok
test engines::policy::zero_network::tests::test_zero_network_token ... ok
test engines::policy::zero_network::tests::test_zero_network_violation_display ... ok
test engines::prediction::calculation_steps::tests::test_cold_start_step ... ok
test engines::prediction::calculation_steps::tests::test_confidence_step ... ok
test engines::prediction::calculation_steps::tests::test_dynamodb_ondemand_step ... ok
test engines::policy::policy_version::tests::test_load_and_save_version ... ok
test engines::prediction::calculation_steps::tests::test_dynamodb_provisioned_step ... ok
test engines::prediction::calculation_steps::tests::test_ec2_step ... ok
test engines::prediction::calculation_steps::tests::test_interval_step ... ok
test engines::prediction::calculation_steps::tests::test_lambda_step ... ok
test engines::policy::policy_version::tests::test_require_increment_on_change ... ok
test engines::prediction::calculation_steps::tests::test_nat_gateway_step ... ok
test engines::prediction::calculation_steps::tests::test_rds_step ... ok
test engines::prediction::calculation_steps::tests::test_storage_step ... ok
test engines::prediction::cold_start::tests::test_ec2_cost_estimation ... ok
test engines::prediction::cold_start::tests::test_rds_cost_estimation ... ok
test engines::prediction::cold_start::tests::test_storage_cost_estimation ... ok
test engines::prediction::confidence::tests::test_interval_width ... ok
test engines::prediction::confidence::tests::test_confidence_calculation ... FAILED
test engines::prediction::confidence::tests::test_resource_predictability ... ok
test engines::prediction::confidence::tests::test_has_unknown_values ... FAILED
test engines::policy::policy_version::tests::test_version_lifecycle ... ok
test engines::prediction::heuristics_loader::tests::test_default_search_paths ... ok
test engines::prediction::heuristics_loader::tests::test_custom_search_paths ... ok
test engines::prediction::heuristics_loader::tests::test_validate_version_format ... ok
test engines::prediction::prediction_engine::tests::test_ec2_prediction ... ok
test engines::prediction::probabilistic::tests::test_cold_start_increases_uncertainty ... ok
test engines::prediction::monte_carlo::tests::test_deterministic_simulation ... ok
test engines::prediction::probabilistic::tests::test_probabilistic_estimate ... ok
test engines::prediction::probabilistic::tests::test_resource_specific_uncertainty ... ok
test engines::prediction::probabilistic::tests::test_risk_classification ... ok
test engines::prediction::probabilistic::tests::test_scenario_analysis ... ok
test engines::prediction::seasonality::tests::test_no_seasonality_with_insufficient_data ... ok
test engines::prediction::monte_carlo::tests::test_distribution_bins ... ok
test engines::prediction::seasonality::tests::test_seasonal_adjustment ... FAILED
test engines::prediction::seasonality::tests::test_weekly_pattern_detection ... ok
test engines::slo::burn_rate::tests::test_burn_risk_requires_action ... ok
test engines::slo::burn_rate::tests::test_burn_rate_analysis ... ok
test engines::slo::burn_rate::tests::test_burn_report ... ok
test engines::prediction::monte_carlo::tests::test_percentiles ... ok
test engines::slo::burn_rate::tests::test_burn_risk_severity ... ok
test engines::prediction::monte_carlo::tests::test_monte_carlo_simulation ... ok
test engines::slo::burn_rate::tests::test_insufficient_data ... ok
test engines::slo::burn_rate::tests::test_linear_regression ... ok
test engines::slo::burn_rate::tests::test_risk_classification ... ok
test engines::slo::slo_manager::tests::test_blocking_deployment ... ok
test engines::slo::slo_manager::tests::test_evaluate_snapshot_pass ... ok
test engines::slo::slo_manager::tests::test_evaluate_module_budget ... FAILED
test engines::slo::slo_manager::tests::test_evaluate_snapshot_violation ... ok
test engines::slo::slo_manager::tests::test_evaluate_snapshot_warning ... ok
test engines::slo::slo_manager::tests::test_manager_creation ... ok
test engines::slo::slo_manager::tests::test_validate_duplicate_ids ... ok
test engines::slo::slo_manager::tests::test_validate_empty_config ... ok
test engines::slo::slo_manager::tests::test_validate_negative_threshold ... ok
test engines::slo::slo_types::tests::test_enforcement_levels ... ok
test engines::slo::slo_types::tests::test_evaluate_pass ... ok
test engines::slo::slo_types::tests::test_evaluate_violation ... ok
test engines::slo::slo_types::tests::test_evaluate_warning ... ok
test engines::slo::slo_manager::tests::test_no_blocking_for_warn ... ok
test engines::slo::slo_types::tests::test_report_formatting ... ok
test engines::slo::slo_types::tests::test_slo_config ... ok
test engines::slo::slo_types::tests::test_slo_creation ... ok
test engines::slo::slo_types::tests::test_slo_report ... ok
test engines::slo::slo_manager::tests::test_validate_success ... ok
test engines::slo::slo_types::tests::test_violation_check ... ok
test engines::slo::slo_types::tests::test_warning_threshold ... ok
test engines::trend::html_generator::tests::test_escape_html ... ok
test engines::performance::budgets::tests::test_circuit_breaker_closes_on_success ... ok
test engines::trend::html_generator::tests::test_styles_included ... ok
test engines::performance::budgets::tests::test_circuit_breaker_half_open_transition ... ok
test engines::performance::budgets::tests::test_performance_tracker_within_budget ... ok
test engines::trend::html_generator::tests::test_wrap_svg ... ok
test engines::trend::snapshot_manager::tests::test_generate_snapshot_id ... FAILED
test engines::trend::html_generator::tests::test_generate_file ... ok
test engines::trend::snapshot_types::tests::test_add_module ... ok
test engines::trend::snapshot_types::tests::test_calculate_delta ... ok
test engines::trend::snapshot_types::tests::test_regression_type_serialization ... ok
test engines::trend::snapshot_manager::tests::test_snapshot_manager_init ... ok
test engines::trend::snapshot_types::tests::test_snapshot_creation ... ok
test engines::trend::snapshot_types::tests::test_trend_config_defaults ... ok
test engines::trend::snapshot_types::tests::test_trend_history ... ok
test engines::trend::svg_generator::tests::test_custom_config ... ok
test engines::trend::svg_generator::tests::test_generate_empty_history ... ok
test engines::trend::svg_generator::tests::test_svg_generator_creation ... ok
test engines::trend::snapshot_manager::tests::test_delete_snapshot ... ok
test engines::trend::svg_generator::tests::test_generate_with_snapshots ... ok
test engines::trend::snapshot_manager::tests::test_count_snapshots ... ok
test engines::trend::snapshot_manager::tests::test_load_history ... ok
test engines::trend::tests::test_extract_service_name ... ignored
test engines::trend::snapshot_manager::tests::test_snapshot_exists ... ok
test engines::trend::snapshot_manager::tests::test_write_and_read_snapshot ... ok
test engines::trend::tests::test_annotate_with_baselines ... ok
test engines::trend::trend_diff::tests::test_format_json ... ok
test engines::trend::trend_diff::tests::test_format_text ... ok
test engines::trend::trend_diff::tests::test_generate_diff_cost_increase ... ok
test engines::trend::trend_diff::tests::test_generate_diff_new_module ... ok
test heuristics::free_heuristics::tests::test_get_base_cost ... ok
test engines::trend::snapshot_manager::tests::test_validate_snapshot_negative_cost ... ok
test engines::trend::tests::test_trend_engine_creation ... ok
test security::sandbox::tests::test_default_limits ... ok
test heuristics::free_heuristics::tests::test_load_free_heuristics ... ok
test security::sandbox::tests::test_memory_check ... ok
test security::sandbox::tests::test_file_size_check ... ok
test engines::trend::tests::test_detect_baseline_violations ... ok
test engines::trend::tests::test_detect_regressions ... ok
test security::sandbox::tests::test_timeout_check ... ok
test security::validator::tests::test_redact_match ... ok
test engines::trend::tests::test_extract_module_name ... ok
test validation::baselines::tests::test_validate_empty_baselines ... FAILED
test validation::baselines::tests::test_validate_invalid_timestamp ... FAILED
test validation::baselines::tests::test_validate_negative_cost ... FAILED
test validation::baselines::tests::test_validate_valid_baselines ... FAILED
test validation::config::tests::test_valid_aws_region ... ok
test validation::config::tests::test_parse_valid_config ... ok
test validation::config::tests::test_valid_semver ... ok
test validation::error::tests::test_validation_error_builder ... ok
test validation::error::tests::test_validation_warning_builder ... ok
test validation::policy::tests::test_validate_empty_rules ... FAILED
test validation::policy::tests::test_validate_invalid_regex ... FAILED
test validation::policy::tests::test_validate_valid_policy ... FAILED
test validation::slo::tests::test_validate_empty_module_path ... FAILED
test validation::slo::tests::test_validate_negative_target ... FAILED
test validation::slo::tests::test_validate_valid_slo ... FAILED
test validation::slo::tests::test_validate_zero_resource_count ... FAILED
test validation::tests::test_detect_file_type ... ok
test validation::tests::test_validation_report ... ok
test wasm::runtime::tests::test_calculate_json_depth ... FAILED
test wasm::runtime::tests::test_engine_budgets ... ok
test wasm::runtime::tests::test_memory_tracker ... ok
test wasm::runtime::tests::test_sandbox_limits_default ... ok
test wasm::runtime::tests::test_validate_input_size ... ok
test wasm::runtime::tests::test_validate_json_depth ... ok
test validation::config::tests::test_valid_duration ... ok
test security::validator::tests::test_safe_code_passes ... ok
test security::validator::tests::test_detect_network_call ... ok
test security::validator::tests::test_detect_aws_access_key ... ok
test security::validator::tests::test_detect_aws_sdk ... ok
test security::validator::tests::test_detect_bearer_token ... ok
test security::validator::tests::test_file_size_validation ... ok

failures:

---- cli::commands::validate::tests::test_execute_valid_file stdout ----

thread 'cli::commands::validate::tests::test_execute_valid_file' (181704) panicked at src/cli/commands/validate.rs:123:9:
assertion failed: report.is_valid
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- engines::autofix::autofix_engine::tests::test_snippet_mode stdout ----

thread 'engines::autofix::autofix_engine::tests::test_snippet_mode' (181718) panicked at src/engines/autofix/autofix_engine.rs:192:9:
assertion `left == right` failed
  left: 0
 right: 1

---- engines::autofix::drift_safety::drift_checksum::tests::test_detect_drift_no_drift stdout ----

thread 'engines::autofix::drift_safety::drift_checksum::tests::test_detect_drift_no_drift' (181733) panicked at src/engines/autofix/drift_safety/drift_checksum.rs:337:9:
assertion failed: !result.drift_detected

---- engines::autofix::drift_safety::drift_checksum::tests::test_verify_checksum stdout ----

thread 'engines::autofix::drift_safety::drift_checksum::tests::test_verify_checksum' (181741) panicked at src/engines/autofix/drift_safety/drift_checksum.rs:406:9:
assertion failed: detector.verify_checksum(&config, &checksum)

---- engines::autofix::drift_safety::drift_checksum::tests::test_ignored_attributes_not_in_checksum stdout ----

thread 'engines::autofix::drift_safety::drift_checksum::tests::test_ignored_attributes_not_in_checksum' (181737) panicked at src/engines/autofix/drift_safety/drift_checksum.rs:322:9:
assertion `left == right` failed
  left: "473ebd64906944a395628c569894a88f6e12ae8b75aca26d9f7ed7cd4cf59edf"
 right: "e56c29ddd63658cc166c98b9fa480fb05e66bb0f06c84432cac32a527de7beea"

---- engines::autofix::snippet_generator::tests::test_ec2_snippet_generation stdout ----

thread 'engines::autofix::snippet_generator::tests::test_ec2_snippet_generation' (181748) panicked at src/engines/autofix/snippet_generator.rs:385:9:
assertion failed: snippet.snippet.contains("2xlarge")

---- engines::autofix_safe::drift_safe_engine::tests::test_apply_operation stdout ----

thread 'engines::autofix_safe::drift_safe_engine::tests::test_apply_operation' (181752) panicked at src/engines/autofix_safe/drift_safe_engine.rs:570:9:
assertion failed: result.is_ok()

---- engines::baselines::baselines_manager::tests::test_compare_module_costs_exceeded stdout ----

thread 'engines::baselines::baselines_manager::tests::test_compare_module_costs_exceeded' (181782) panicked at src/engines/baselines/baselines_manager.rs:368:9:
assertion `left == right` failed
  left: "High"
 right: "Critical"

---- engines::baselines::baselines_manager::tests::test_compare_total_cost stdout ----

thread 'engines::baselines::baselines_manager::tests::test_compare_total_cost' (181785) panicked at src/engines/baselines/baselines_manager.rs:402:9:
assertion `left == right` failed
  left: "Medium"
 right: "High"

---- engines::baselines::baselines_manager::tests::test_format_violations stdout ----

thread 'engines::baselines::baselines_manager::tests::test_format_violations' (181787) panicked at src/engines/baselines/baselines_manager.rs:426:9:
assertion failed: formatted.contains("Critical")

---- engines::mapping::tests::test_map_dependencies stdout ----

thread 'engines::mapping::tests::test_map_dependencies' (181866) panicked at src/engines/mapping/mod.rs:395:9:
assertion failed: result.is_ok()

---- engines::mapping::tests::test_detect_cost_impacts stdout ----

thread 'engines::mapping::tests::test_detect_cost_impacts' (181864) panicked at src/engines/mapping/mod.rs:445:9:
assertion failed: !impacts.is_empty()

---- engines::mapping::tests::test_map_dependencies_html stdout ----

thread 'engines::mapping::tests::test_map_dependencies_html' (181867) panicked at src/engines/mapping/mod.rs:407:9:
assertion failed: result.is_ok()

---- engines::metering::chargeback::tests::test_chargeback_report stdout ----

thread 'engines::metering::chargeback::tests::test_chargeback_report' (181869) panicked at src/engines/metering/chargeback.rs:423:9:
assertion `left == right` failed
  left: 66.66666666666666
 right: 66.66666666666667

---- engines::metering::usage_meter::tests::test_free_tier_deduction stdout ----

thread 'engines::metering::usage_meter::tests::test_free_tier_deduction' (181875) panicked at src/engines/metering/usage_meter.rs:554:9:
assertion `left == right` failed
  left: 49.0
 right: 0.5

---- engines::performance::monitoring::tests::test_regression_detection stdout ----

thread 'engines::performance::monitoring::tests::test_regression_detection' (181887) panicked at src/engines/performance/monitoring.rs:421:9:
assertion `left == right` failed
  left: "Total Scan"
 right: "Prediction"

---- engines::policy::exemption_ci::tests::test_ci_check_with_active_exemptions stdout ----

thread 'engines::policy::exemption_ci::tests::test_ci_check_with_active_exemptions' (181916) panicked at src/engines/policy/exemption_ci.rs:182:9:
assertion `left == right` failed
  left: 0
 right: 2

---- engines::policy::exemption_ci::tests::test_ci_check_summary_output stdout ----

thread 'engines::policy::exemption_ci::tests::test_ci_check_summary_output' (181915) panicked at src/engines/policy/exemption_ci.rs:245:9:
assertion failed: summary.contains("Active: 1")

---- engines::policy::exemption_ci::tests::test_ci_check_with_expired_exemptions stdout ----

thread 'engines::policy::exemption_ci::tests::test_ci_check_with_expired_exemptions' (181917) panicked at src/engines/policy/exemption_ci.rs:201:9:
assertion `left == right` failed
  left: 0
 right: 1

---- engines::policy::exemption_ci::tests::test_multiple_expired_exemptions_blocked stdout ----

thread 'engines::policy::exemption_ci::tests::test_multiple_expired_exemptions_blocked' (181920) panicked at src/engines/policy/exemption_ci.rs:264:9:
assertion `left == right` failed
  left: 0
 right: 3

---- engines::policy::exemption_validator::tests::test_check_status_expired stdout ----

thread 'engines::policy::exemption_validator::tests::test_check_status_expired' (181926) panicked at src/engines/policy/exemption_validator.rs:348:18:
Expected Expired status

---- engines::policy::metadata_engine::tests::test_policy_metrics stdout ----

thread 'engines::policy::metadata_engine::tests::test_policy_metrics' (181948) panicked at src/engines/policy/metadata_engine.rs:613:9:
assertion `left == right` failed
  left: 1
 right: 3

---- engines::policy::policy_engine::tests::test_exemption_filters_violation stdout ----
  Free edition: Policy enforcement disabled (lint-only mode)
   Upgrade to Premium to block deployments on policy violations

thread 'engines::policy::policy_engine::tests::test_exemption_filters_violation' (181956) panicked at src/engines/policy/policy_engine.rs:719:9:
assertion failed: result.passed

---- engines::prediction::confidence::tests::test_confidence_calculation stdout ----

thread 'engines::prediction::confidence::tests::test_confidence_calculation' (182023) panicked at src/engines/prediction/confidence.rs:106:9:
EC2 without cold start should have high confidence

---- engines::prediction::confidence::tests::test_has_unknown_values stdout ----

thread 'engines::prediction::confidence::tests::test_has_unknown_values' (182024) panicked at src/engines/prediction/confidence.rs:145:9:
assertion failed: !has_unknown_values(&change_without_null)

---- engines::prediction::seasonality::tests::test_seasonal_adjustment stdout ----

thread 'engines::prediction::seasonality::tests::test_seasonal_adjustment' (182041) panicked at src/engines/prediction/seasonality.rs:433:9:
assertion `left == right` failed
  left: 114.99999999999999
 right: 115.0

---- engines::slo::slo_manager::tests::test_evaluate_module_budget stdout ----

thread 'engines::slo::slo_manager::tests::test_evaluate_module_budget' (182051) panicked at src/engines/slo/slo_manager.rs:540:9:
assertion `left == right` failed
  left: Warning
 right: Pass

---- engines::trend::snapshot_manager::tests::test_generate_snapshot_id stdout ----

thread 'engines::trend::snapshot_manager::tests::test_generate_snapshot_id' (182077) panicked at src/engines/trend/snapshot_manager.rs:345:9:
assertion `left != right` failed
  left: "20251211-131508-8263"
 right: "20251211-131508-8263"

---- validation::baselines::tests::test_validate_empty_baselines stdout ----

thread 'validation::baselines::tests::test_validate_empty_baselines' (182115) panicked at src/validation/baselines.rs:265:9:
assertion failed: report.is_valid

---- validation::baselines::tests::test_validate_invalid_timestamp stdout ----

thread 'validation::baselines::tests::test_validate_invalid_timestamp' (182116) panicked at src/validation/baselines.rs:247:9:
assertion failed: report.errors.iter().any(|e| e.error_code == Some("E302".to_string()))

---- validation::baselines::tests::test_validate_negative_cost stdout ----

thread 'validation::baselines::tests::test_validate_negative_cost' (182117) panicked at src/validation/baselines.rs:222:9:
assertion failed: report.errors.iter().any(|e| e.error_code == Some("E301".to_string()))

---- validation::baselines::tests::test_validate_valid_baselines stdout ----

thread 'validation::baselines::tests::test_validate_valid_baselines' (182118) panicked at src/validation/baselines.rs:200:9:
assertion failed: report.is_valid

---- validation::policy::tests::test_validate_empty_rules stdout ----

thread 'validation::policy::tests::test_validate_empty_rules' (182125) panicked at src/validation/policy.rs:248:9:
assertion failed: report.errors.iter().any(|e| e.error_code == Some("E201".to_string()))

---- validation::policy::tests::test_validate_invalid_regex stdout ----

thread 'validation::policy::tests::test_validate_invalid_regex' (182126) panicked at src/validation/policy.rs:274:9:
assertion failed: report.errors.iter().any(|e| e.error_code == Some("E205".to_string()))

---- validation::policy::tests::test_validate_valid_policy stdout ----

thread 'validation::policy::tests::test_validate_valid_policy' (182127) panicked at src/validation/policy.rs:231:9:
assertion failed: report.is_valid

---- validation::slo::tests::test_validate_empty_module_path stdout ----

thread 'validation::slo::tests::test_validate_empty_module_path' (182128) panicked at src/validation/slo.rs:247:9:
assertion failed: report.errors.iter().any(|e| e.error_code == Some("E402".to_string()))

---- validation::slo::tests::test_validate_negative_target stdout ----

thread 'validation::slo::tests::test_validate_negative_target' (182129) panicked at src/validation/slo.rs:227:9:
assertion failed: report.errors.iter().any(|e| e.error_code == Some("E401".to_string()))

---- validation::slo::tests::test_validate_valid_slo stdout ----

thread 'validation::slo::tests::test_validate_valid_slo' (182130) panicked at src/validation/slo.rs:211:9:
assertion failed: report.is_valid

---- validation::slo::tests::test_validate_zero_resource_count stdout ----

thread 'validation::slo::tests::test_validate_zero_resource_count' (182131) panicked at src/validation/slo.rs:267:9:
assertion failed: report.errors.iter().any(|e| e.error_code == Some("E407".to_string()))

---- wasm::runtime::tests::test_calculate_json_depth stdout ----

thread 'wasm::runtime::tests::test_calculate_json_depth' (182134) panicked at src/wasm/runtime.rs:252:9:
assertion `left == right` failed
  left: 2
 right: 1


failures:
    cli::commands::validate::tests::test_execute_valid_file
    engines::autofix::autofix_engine::tests::test_snippet_mode
    engines::autofix::drift_safety::drift_checksum::tests::test_detect_drift_no_drift
    engines::autofix::drift_safety::drift_checksum::tests::test_ignored_attributes_not_in_checksum
    engines::autofix::drift_safety::drift_checksum::tests::test_verify_checksum
    engines::autofix::snippet_generator::tests::test_ec2_snippet_generation
    engines::autofix_safe::drift_safe_engine::tests::test_apply_operation
    engines::baselines::baselines_manager::tests::test_compare_module_costs_exceeded
    engines::baselines::baselines_manager::tests::test_compare_total_cost
    engines::baselines::baselines_manager::tests::test_format_violations
    engines::mapping::tests::test_detect_cost_impacts
    engines::mapping::tests::test_map_dependencies
    engines::mapping::tests::test_map_dependencies_html
    engines::metering::chargeback::tests::test_chargeback_report
    engines::metering::usage_meter::tests::test_free_tier_deduction
    engines::performance::monitoring::tests::test_regression_detection
    engines::policy::exemption_ci::tests::test_ci_check_summary_output
    engines::policy::exemption_ci::tests::test_ci_check_with_active_exemptions
    engines::policy::exemption_ci::tests::test_ci_check_with_expired_exemptions
    engines::policy::exemption_ci::tests::test_multiple_expired_exemptions_blocked
    engines::policy::exemption_validator::tests::test_check_status_expired
    engines::policy::metadata_engine::tests::test_policy_metrics
    engines::policy::policy_engine::tests::test_exemption_filters_violation
    engines::prediction::confidence::tests::test_confidence_calculation
    engines::prediction::confidence::tests::test_has_unknown_values
    engines::prediction::seasonality::tests::test_seasonal_adjustment
    engines::slo::slo_manager::tests::test_evaluate_module_budget
    engines::trend::snapshot_manager::tests::test_generate_snapshot_id
    validation::baselines::tests::test_validate_empty_baselines
    validation::baselines::tests::test_validate_invalid_timestamp
    validation::baselines::tests::test_validate_negative_cost
    validation::baselines::tests::test_validate_valid_baselines
    validation::policy::tests::test_validate_empty_rules
    validation::policy::tests::test_validate_invalid_regex
    validation::policy::tests::test_validate_valid_policy
    validation::slo::tests::test_validate_empty_module_path
    validation::slo::tests::test_validate_negative_target
    validation::slo::tests::test_validate_valid_slo
    validation::slo::tests::test_validate_zero_resource_count
    wasm::runtime::tests::test_calculate_json_depth

test result: FAILED. 433 passed; 40 failed; 1 ignored; 0 measured; 0 filtered out; finished in 0.05s

error: test failed, to rerun pass `--lib`
